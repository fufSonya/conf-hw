## Отчёт по работе: транслятор учебного конфигурационного языка в TOML

### Цель работы
Разработать инструмент командной строки, который переводит текст на учебном конфигурационном языке во **входном потоке (stdin)** в файл формата **TOML**. Также требуется выявлять синтаксические ошибки и покрыть все конструкции тестами.

### Поддерживаемый синтаксис
В работе реализована поддержка конструкций из задания:
- **Числа**: `\d+`
- **Массивы**: `#( значение, значение, ... )`
- **Словари**:

```
{
  имя => значение,
  имя => значение,
  ...
}
```

- **Имена**: `[_a-zA-Z][_a-zA-Z0-9]*`
- **Значения**: число / массив / словарь (включая вложенные)
- **Объявление константы на этапе трансляции**: `значение -> имя`
- **Вычисление константы на этапе трансляции**: `[имя]` (результат — значение константы)

### Как устроено решение
- В `config_translator/lexer.py` реализован лексический разбор (токены чисел, имён, скобок, `=>`, `->`, `#(`).
- В `config_translator/parser.py` реализован синтаксический разбор и построение AST для значений (число/массив/словарь) и для констант.
- В `config_translator/eval.py` реализовано вычисление констант (константы должны быть объявлены до использования).
- В `config_translator/toml_writer.py` реализован вывод в TOML.
- В `main.py` реализован CLI: чтение из stdin, запись TOML в файл по ключу `-o/--output`.

### Обработка ошибок
- При лексических/синтаксических ошибках выводится сообщение в `stderr` с указанием **строки и столбца**.
- При ошибках вычисления (например, неизвестная константа) также выводится сообщение в `stderr`.

### Тестирование
Тесты лежат в `tests/test_translator_constructs.py` и покрывают:
- числа, массивы, словари
- вложенные массивы/словарей
- объявление и использование констант
- типовые ошибки: некорректный символ, незакрытая конструкция, лишние токены, неизвестная константа

Запуск тестов:

```bash
python3 -m unittest discover -s tests -p "test_*.py"
```

### Примеры конфигураций (3 предметные области)
Файлы лежат в `examples/`:
- **Web-приложение**: `examples/01_webapp.conf` → ожидаемый результат `examples/01_webapp.toml`
- **IoT/устройства**: `examples/02_iot.conf` → ожидаемый результат `examples/02_iot.toml`
- **Финансы/риски**: `examples/03_finance.conf` → ожидаемый результат `examples/03_finance.toml`

### Запуск транслятора
Linux/macOS:

```bash
python3 main.py -o out.toml < input.conf
```

Windows PowerShell:

```powershell
py -3 main.py -o out.toml < input.conf
```

Прогон примеров (Linux/macOS):

```bash
python3 main.py -o /tmp/webapp.toml < examples/01_webapp.conf
python3 main.py -o /tmp/iot.toml < examples/02_iot.conf
python3 main.py -o /tmp/finance.toml < examples/03_finance.conf
```

### Вывод
В результате работы получен CLI-транслятор учебного конфигурационного языка в TOML с обработкой ошибок, тестами для всех конструкций (включая вложенность и константы) и тремя примерами конфигураций из разных предметных областей.
